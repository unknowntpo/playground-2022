
export API_KEY={API_KEY}
export API_URL={API_URL}

curl -X POST "${API_URL}/models/conversation" \
-H "accept: application/json" \
-H "X-API-KEY:${API_KEY}" \
-H "X-API-HOST: afs-inference" \
-H "content-type: application/json" \
-d '{
  "model": "ffm-mixtral-8x7b-32k-instruct",
  "messages": [
    {
      "role": "user",
      "content": "What is the weather like in Boston?"
    }],
  "functions": [
    {
      "name": "get_current_weather",
      "description": "Get the current weather in a given location",
      "parameters": {
        "type": "object",
        "properties": {
          "location": {
            "type": "string",
            "description": "The city and state, e.g. San Francisco, CA"
          },
          "unit": {
            "type": "string",
            "enum": ["celsius", "fahrenheit"]
          }
        },
        "required": ["location"]
      }
    }],
  "parameters": {
      "show_probabilities": false,
      "max_new_tokens": 500,
      "frequence_penalty": 1,
      "temperature": 0.5,
      "top_k": 100,
      "top_p": 0.93
  },
  "stream": false
}'
